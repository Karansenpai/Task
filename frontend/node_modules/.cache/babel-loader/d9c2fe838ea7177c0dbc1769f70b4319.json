{"ast":null,"code":"import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nconst backendURL = 'https://auth.payhero.co.ke/';\nconst backendURL1 = \"\";\nexport const userLogin = createAsyncThunk('auth/login', async (_ref, _ref2) => {\n  let {\n    username,\n    password\n  } = _ref;\n  let {\n    rejectWithValue\n  } = _ref2;\n\n  try {\n    // configure header's Content-Type as JSON\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post(`${backendURL}auth/login`, {\n      username,\n      password\n    }, config); // store user's token in local storage\n\n    localStorage.setItem('userToken', data.userToken);\n    return data;\n  } catch (error) {\n    // return custom error message from API if any\n    if (error.response && error.response.data.error_message) {\n      return rejectWithValue(error.response.data.error_message);\n    } else {\n      return rejectWithValue(error.message);\n    }\n  }\n});\nexport const registerUser = createAsyncThunk('user/register', async (_ref3, _ref4) => {\n  let {\n    firstName,\n    email,\n    password\n  } = _ref3;\n  let {\n    rejectWithValue\n  } = _ref4;\n\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    await axios.post(`${backendURL}/api/user/register`, {\n      firstName,\n      email,\n      password\n    }, config);\n  } catch (error) {\n    if (error.response && error.response.data.message) {\n      return rejectWithValue(error.response.data.message);\n    } else {\n      return rejectWithValue(error.message);\n    }\n  }\n});","map":{"version":3,"names":["axios","createAsyncThunk","backendURL","backendURL1","userLogin","username","password","rejectWithValue","config","headers","data","post","localStorage","setItem","userToken","error","response","error_message","message","registerUser","firstName","email"],"sources":["/home/karan-senpai/Intern/task/React-Redux-Toolkit-Login-Register/frontend/src/features/auth/authActions.js"],"sourcesContent":["import axios from 'axios'\nimport { createAsyncThunk } from '@reduxjs/toolkit'\n\nconst backendURL = 'https://auth.payhero.co.ke/'\nconst backendURL1 = \"\"\n\nexport const userLogin = createAsyncThunk(\n  'auth/login',\n  async ({ username, password }, { rejectWithValue }) => {\n    try {\n      // configure header's Content-Type as JSON\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      const { data } = await axios.post(\n        `${backendURL}auth/login`,\n        { username, password },\n        config\n      )\n\n      // store user's token in local storage\n      localStorage.setItem('userToken', data.userToken)\n\n      return data\n    } catch (error) {\n      // return custom error message from API if any\n      if (error.response && error.response.data.error_message) {\n        return rejectWithValue(error.response.data.error_message)\n      } else {\n        return rejectWithValue(error.message)\n      }\n    }\n  }\n)\n\nexport const registerUser = createAsyncThunk(\n  'user/register',\n  async ({ firstName, email, password }, { rejectWithValue }) => {\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n\n      await axios.post(\n        `${backendURL}/api/user/register`,\n        { firstName, email, password },\n        config\n      )\n    } catch (error) {\n      if (error.response && error.response.data.message) {\n        return rejectWithValue(error.response.data.message)\n      } else {\n        return rejectWithValue(error.message)\n      }\n    }\n  }\n)\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AAEA,MAAMC,UAAU,GAAG,6BAAnB;AACA,MAAMC,WAAW,GAAG,EAApB;AAEA,OAAO,MAAMC,SAAS,GAAGH,gBAAgB,CACvC,YADuC,EAEvC,uBAAuD;EAAA,IAAhD;IAAEI,QAAF;IAAYC;EAAZ,CAAgD;EAAA,IAAxB;IAAEC;EAAF,CAAwB;;EACrD,IAAI;IACF;IACA,MAAMC,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,gBAAgB;MADT;IADI,CAAf;IAMA,MAAM;MAAEC;IAAF,IAAW,MAAMV,KAAK,CAACW,IAAN,CACpB,GAAET,UAAW,YADO,EAErB;MAAEG,QAAF;MAAYC;IAAZ,CAFqB,EAGrBE,MAHqB,CAAvB,CARE,CAcF;;IACAI,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCH,IAAI,CAACI,SAAvC;IAEA,OAAOJ,IAAP;EACD,CAlBD,CAkBE,OAAOK,KAAP,EAAc;IACd;IACA,IAAIA,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeN,IAAf,CAAoBO,aAA1C,EAAyD;MACvD,OAAOV,eAAe,CAACQ,KAAK,CAACC,QAAN,CAAeN,IAAf,CAAoBO,aAArB,CAAtB;IACD,CAFD,MAEO;MACL,OAAOV,eAAe,CAACQ,KAAK,CAACG,OAAP,CAAtB;IACD;EACF;AACF,CA7BsC,CAAlC;AAgCP,OAAO,MAAMC,YAAY,GAAGlB,gBAAgB,CAC1C,eAD0C,EAE1C,wBAA+D;EAAA,IAAxD;IAAEmB,SAAF;IAAaC,KAAb;IAAoBf;EAApB,CAAwD;EAAA,IAAxB;IAAEC;EAAF,CAAwB;;EAC7D,IAAI;IACF,MAAMC,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,gBAAgB;MADT;IADI,CAAf;IAMA,MAAMT,KAAK,CAACW,IAAN,CACH,GAAET,UAAW,oBADV,EAEJ;MAAEkB,SAAF;MAAaC,KAAb;MAAoBf;IAApB,CAFI,EAGJE,MAHI,CAAN;EAKD,CAZD,CAYE,OAAOO,KAAP,EAAc;IACd,IAAIA,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeN,IAAf,CAAoBQ,OAA1C,EAAmD;MACjD,OAAOX,eAAe,CAACQ,KAAK,CAACC,QAAN,CAAeN,IAAf,CAAoBQ,OAArB,CAAtB;IACD,CAFD,MAEO;MACL,OAAOX,eAAe,CAACQ,KAAK,CAACG,OAAP,CAAtB;IACD;EACF;AACF,CAtByC,CAArC"},"metadata":{},"sourceType":"module"}