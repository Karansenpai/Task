{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nexport const authApi = createApi({\n  reducerPath: 'authApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://auth.payhero.co.ke/',\n    prepareHeaders: (headers, _ref) => {\n      let {\n        getState\n      } = _ref;\n      const token = getState().auth.token;\n\n      if (token) {\n        headers.set('authorization', `Bearer ${token}`);\n        return headers;\n      }\n    }\n  }),\n  endpoints: build => ({\n    getDetails: build.query({\n      query: () => ({\n        url: 'auth/users/4',\n        method: 'GET'\n      })\n    })\n  })\n}); // export react hook\n\nexport const {\n  useGetDetailsQuery\n} = authApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","authApi","reducerPath","baseQuery","baseUrl","prepareHeaders","headers","getState","token","auth","set","endpoints","build","getDetails","query","url","method","useGetDetailsQuery"],"sources":["/home/karan-senpai/Intern/task/Task/frontend/src/app/services/auth/authService.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\n\nexport const authApi = createApi({\n  reducerPath: 'authApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://auth.payhero.co.ke/',\n\n    prepareHeaders: (headers, { getState }) => {\n      const token = getState().auth.token\n      if (token) {\n        headers.set('authorization', `Bearer ${token}`)\n\n        return headers\n      }\n    },\n  }),\n  endpoints: (build) => ({\n    getDetails: build.query({\n      query: () => ({\n        url: 'auth/users/4',\n        method: 'GET',\n      }),\n    }),\n  }),\n})\n\n// export react hook\nexport const { useGetDetailsQuery } = authApi\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,8BAA1C;AAEA,OAAO,MAAMC,OAAO,GAAGF,SAAS,CAAC;EAC/BG,WAAW,EAAE,SADkB;EAE/BC,SAAS,EAAEH,cAAc,CAAC;IACxBI,OAAO,EAAE,6BADe;IAGxBC,cAAc,EAAE,CAACC,OAAD,WAA2B;MAAA,IAAjB;QAAEC;MAAF,CAAiB;MACzC,MAAMC,KAAK,GAAGD,QAAQ,GAAGE,IAAX,CAAgBD,KAA9B;;MACA,IAAIA,KAAJ,EAAW;QACTF,OAAO,CAACI,GAAR,CAAY,eAAZ,EAA8B,UAASF,KAAM,EAA7C;QAEA,OAAOF,OAAP;MACD;IACF;EAVuB,CAAD,CAFM;EAc/BK,SAAS,EAAGC,KAAD,KAAY;IACrBC,UAAU,EAAED,KAAK,CAACE,KAAN,CAAY;MACtBA,KAAK,EAAE,OAAO;QACZC,GAAG,EAAE,cADO;QAEZC,MAAM,EAAE;MAFI,CAAP;IADe,CAAZ;EADS,CAAZ;AAdoB,CAAD,CAAzB,C,CAwBP;;AACA,OAAO,MAAM;EAAEC;AAAF,IAAyBhB,OAA/B"},"metadata":{},"sourceType":"module"}